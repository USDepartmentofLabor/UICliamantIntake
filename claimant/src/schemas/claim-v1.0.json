{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ui.dol.gov/schemas/claim-v1.0.json",
  "title": "UI Claimant Application Form",
  "description": "Unemployment Insurance claimant application form schema",
  "type": "object",
  "additionalProperties": false,
  "definitions": {
    "person_name": {
      "$id": "/definitions/person_name",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/person_name",
      "type": "object",
      "properties": {
        "first_name": { "type": "string" },
        "last_name": { "type": "string" },
        "middle_name": { "type": "string" },
        "suffix": { "type": "string" }
      },
      "required": ["first_name", "last_name"]
    },
    "phone": {
      "$id": "/definitions/phone",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/phone",
      "type": "object",
      "properties": {
        "number": { "type": "string" },
        "type": { "type": "string" },
        "sms": { "type": "boolean" }
      },
      "required": ["number"]
    },
    "address": {
      "$id": "/definitions/address",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/address",
      "type": "object",
      "properties": {
        "address1": { "type": "string" },
        "address2": { "type": "string" },
        "city": { "type": "string" },
        "state": { "$ref": "#/definitions/state" },
        "zipcode": { "type": "string" }
      },
      "required": ["address1", "city", "state", "zipcode"]
    },
    "occupation": {
      "$id": "/definitions/occupation",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/occupation",
      "type": "object",
      "properties": {
        "job_title": { "type": "string" },
        "job_description": { "type": "string" },
        "bls_description": { "type": "string" },
        "bls_code": { "type": "string" },
        "bls_title": { "type": "string" }
      }
    },
    "employer": {
      "$id": "/definitions/employer",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/employer",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "days_employed": { "type": "integer" },
        "first_work_date": { "type": "string", "format": "date" },
        "last_work_date": { "type": "string", "format": "date" },
        "recall_date": { "type": "string", "format": "date" },
        "fein": { "type": "string", "pattern": "^[0-9]{2}-[0-9]{7}$" },
        "address": { "$ref": "#/definitions/address" },
        "work_site_address": { "$ref": "#/definitions/address" },
        "phones": {
          "type": "array",
          "items": { "$ref": "#/definitions/phone" }
        },
        "separation_reason": { "type": "string" },
        "separation_comment": { "type": "string" }
      },
      "required": [
        "name",
        "address",
        "first_work_date",
        "last_work_date",
        "phones",
        "separation_reason"
      ]
    },
    "citizenship": {
      "$id": "/definitions/citizenship",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/citizenship",
      "type": "object",
      "properties": {
        "alien_registration_type": {
          "type": "string"
        },
        "alien_registration_number": {
          "type": "string"
        },
        "is_citizen": {
          "type": "boolean"
        },
        "authorized_to_work": {
          "type": "boolean"
        },
        "country_of_origin": {
          "type": "string"
        },
        "document_types": {
          "type": "array",
          "items": { "type": "string" }
        },
        "alien_registration_exp_date": {
          "type": "string",
          "format": "date"
        },
        "work_authorization_from_date": {
          "type": "string",
          "format": "date"
        },
        "work_authorization_to_date": {
          "type": "string",
          "format": "date"
        },
        "alien_registration_name": {
          "$ref": "#/definitions/person_name"
        }
      },
      "required": ["is_citizen"],
      "if": {
        "properties": {
          "is_citizen": {
            "enum": [false]
          }
        }
      },
      "then": {
        "required": [
          "is_citizen",
          "alien_registration_number",
          "alien_registration_type"
        ]
      }
    },
    "state": {
      "$id": "/definitions/state",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/state",
      "type": "string",
      "enum": [
        "AK",
        "AL",
        "AR",
        "AS",
        "AZ",
        "CA",
        "CO",
        "CT",
        "DC",
        "DE",
        "FL",
        "FM",
        "GA",
        "GU",
        "HI",
        "IA",
        "ID",
        "IL",
        "IN",
        "KS",
        "KY",
        "LA",
        "MA",
        "MD",
        "ME",
        "MH",
        "MI",
        "MN",
        "MO",
        "MP",
        "MS",
        "MT",
        "NC",
        "ND",
        "NE",
        "NH",
        "NJ",
        "NM",
        "NV",
        "NY",
        "OH",
        "OK",
        "OR",
        "PA",
        "PR",
        "PW",
        "RI",
        "SC",
        "SD",
        "TN",
        "TX",
        "UT",
        "VA",
        "VI",
        "VT",
        "WA",
        "WI",
        "WV",
        "WY"
      ]
    }
  },
  "required": ["claimant_name"],
  "properties": {
    "id": {
      "description": "Unique identifier for the Claim",
      "type": "string",
      "format": "uuid",
      "required_for_swa": true
    },
    "claimant_id": {
      "description": "Identifier for the Claimant. Unique to the Identity Provider used.",
      "type": "string",
      "required_for_swa": true
    },
    "identity_provider": {
      "description": "Name of the Identity Provider used to authenticate the Claimant",
      "type": "string",
      "required_for_swa": true
    },
    "swa_code": {
      "description": "2-letter code identifying the State Workforce Agency",
      "type": "string",
      "required_for_swa": true
    },
    "validated_at": {
      "description": "Datetime of the last time the Claim was validated against this schema",
      "type": "string",
      "format": "date-time"
    },
    "$schema": {
      "description": "URL of this schema",
      "type": "string"
    },
    "is_complete": {
      "description": "Meta field to indicate that the required_for_swa attribute should be applied",
      "type": "boolean"
    },
    "claimant_name": {
      "description": "Claimant's name",
      "$ref": "#/definitions/person_name"
    },
    "alternate_names": {
      "description": "Alternate names used by the claimant in the last 18 months",
      "type": "array",
      "items": { "$ref": "#/definitions/person_name" }
    },
    "birthdate": {
      "description": "Date of birth",
      "type": "string",
      "format": "date",
      "TODO_required_for_swa": true
    },
    "sex": {
      "description": "Required for SWA-level eligibility checks",
      "type": "string",
      "enum": ["male", "female"]
    },
    "race": {
      "description": "",
      "type": "array",
      "items": { "type": "string" },
      "TODO_required_for_swa": true
    },
    "ethnicity": {
      "description": "",
      "type": "array",
      "items": { "type": "string" },
      "TODO_required_for_swa": true
    },
    "phones": {
      "description": "",
      "type": "array",
      "items": { "$ref": "#/definitions/phone" }
    },
    "preferred_language": {
      "description": "",
      "type": "string"
    },
    "ssn": {
      "description": "Required per 20 CFR 603.3",
      "type": "string",
      "pattern": "^[0-9]{3}-[0-9]{2}-[0-9]{4}$",
      "TODO_required_for_swa": true
    },
    "currently_reside_in_us": {
      "description": "Required per 20 CFR Appendix A to Part 625",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "employed_in_last_18_months": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "employers": {
      "description": "Required if employed_in_last_18_months is true",
      "type": "array",
      "items": { "$ref": "#/definitions/employer" }
    },
    "active_military_in_last_18_months": {
      "description": "Required per 20 CFR 614",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "federal_employment_in_last_18_months": {
      "description": "Required per 20 CFR 609",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "worked_in_other_states": {
      "description": "Required per 20 CFR 616",
      "type": "array",
      "items": { "$ref": "#/definitions/state" },
      "TODO_required_for_swa": true
    },
    "currently_disabled_unable_to_work": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "mailing_address": {
      "description": "",
      "required_for_swa": true,
      "$ref": "#/definitions/address"
    },
    "residence_address": {
      "description": "",
      "required_for_swa": true,
      "$ref": "#/definitions/address"
    },
    "us_citizenship": {
      "description": "",
      "$ref": "#/definitions/citizenship",
      "TODO_required_for_swa": true
    },
    "email": {
      "description": "",
      "type": "string",
      "format": "email",
      "comment": "Note that JSON Schema validation of email format is notoriously loose but identity providers confirm the email address itself so we trust only what we get from them",
      "TODO_required_for_swa": true
    },
    "education_level": {
      "description": "",
      "type": "string",
      "comment": "TODO This may need to be an enum",
      "TODO_required_for_swa": true
    },
    "occupation": {
      "description": "https://www.bls.gov/oes/current/oes_stru.htm",
      "$ref": "#/definitions/occupation",
      "TODO_required_for_swa": true
    },
    "ready_willing_able_to_work": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "federal_income_tax_withheld": {
      "description": "Required per UIPL 17-95",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "refused_any_job_since_last_worked": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "student_fulltime_in_last_18_months": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "primary_wage_earner": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "dependency_allowance": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    },
    "registered_with_vocational_rehab": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_swa": true
    }
  }
}
