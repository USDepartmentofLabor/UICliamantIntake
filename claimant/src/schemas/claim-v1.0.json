{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ui.dol.gov/schemas/claim-v1.0.json",
  "title": "UI Claimant Application Form",
  "description": "Unemployment Insurance claimant application form schema",
  "type": "object",
  "additionalProperties": false,
  "definitions": {
    "person_name": {
      "$id": "/definitions/person_name",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/person_name",
      "type": "object",
      "properties": {
        "first_name": { "type": "string", "maxLength": 36 },
        "last_name": { "type": "string", "maxLength": 36 },
        "middle_name": { "type": "string", "maxLength": 36 },
        "suffix": { "type": "string", "maxLength": 36 }
      },
      "required": ["first_name", "last_name"]
    },
    "phone": {
      "$id": "/definitions/phone",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/phone",
      "type": "object",
      "properties": {
        "number": { "type": "string", "maxLength": 32 },
        "type": { "type": "string" },
        "sms": { "type": "boolean" }
      },
      "required": ["number"]
    },
    "address": {
      "$id": "/definitions/address",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/address",
      "type": "object",
      "properties": {
        "address1": { "type": "string", "maxLength": 64 },
        "address2": { "type": "string", "maxLength": 64 },
        "city": { "type": "string", "maxLength": 64 },
        "state": { "$ref": "#/definitions/state" },
        "zipcode": {
          "type": "string",
          "maxLength": 12,
          "pattern": "^\\d{5}(-\\d{4})?$"
        }
      },
      "required": ["address1", "city", "state", "zipcode"]
    },
    "optionaladdress": {
      "$id": "/definitions/optionaladdress",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": ["object", null],
      "properties": {
        "address1": { "type": "string", "maxLength": 64 },
        "address2": { "type": "string", "maxLength": 64 },
        "city": { "type": "string", "maxLength": 64 },
        "state": { "$ref": "#/definitions/state" },
        "zipcode": {
          "type": "string",
          "maxLength": 12,
          "pattern": "^\\d{5}(-\\d{4})?$"
        }
      },
      "required": ["address1", "city", "state", "zipcode"]
    },
    "occupation": {
      "$id": "/definitions/occupation",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/occupation",
      "type": "object",
      "properties": {
        "job_title": { "type": "string", "maxLength": 255 },
        "job_description": { "type": "string", "maxLength": 1024 },
        "bls_description": { "type": "string", "maxLength": 255 },
        "bls_code": { "type": "string", "maxLength": 255 },
        "bls_title": { "type": "string", "maxLength": 255 }
      }
    },
    "employer": {
      "$id": "/definitions/employer",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/employer",
      "type": "object",
      "properties": {
        "name": { "type": "string", "maxLength": 255 },
        "days_employed": { "type": "integer" },
        "first_work_date": { "type": "string", "format": "date" },
        "last_work_date": { "type": "string", "format": "date" },
        "recall_date": { "type": "string", "format": "date" },
        "fein": { "type": "string", "pattern": "(^[0-9]{2}-[0-9]{7}$|)" },
        "address": { "$ref": "#/definitions/address" },
        "work_site_address": { "$ref": "#/definitions/optionaladdress" },
        "phones": {
          "type": "array",
          "items": { "$ref": "#/definitions/phone" }
        },
        "separation_reason": { "type": "string", "maxLength": 255 },
        "separation_comment": { "type": "string", "maxLength": 1024 },
        "LOCAL_still_working": { "type": "string", "enum": ["yes", "no"] },
        "LOCAL_same_address": { "type": "string", "enum": ["yes", "no"] },
        "LOCAL_same_phone": { "type": "string", "enum": ["yes", "no"] }
      },
      "required": [
        "name",
        "address",
        "first_work_date",
        "phones",
        "LOCAL_still_working",
        "LOCAL_same_address",
        "LOCAL_same_phone"
      ]
    },
    "citizenship": {
      "$id": "/definitions/citizenship",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/citizenship",
      "type": "object",
      "properties": {
        "alien_registration_type": {
          "type": "string",
          "enum": ["permanent_resident", "temporary_legal_worker"]
        },
        "alien_registration_number": {
          "type": "string",
          "pattern": "^[0-9]{3}-[0-9]{3}-[0-9]{3}$"
        },
        "is_citizen": {
          "type": "boolean"
        },
        "authorized_to_work": {
          "type": "boolean"
        },
        "country_of_origin": {
          "type": "string",
          "maxLength": 64
        },
        "document_types": {
          "type": "array",
          "items": { "type": "string" }
        },
        "alien_registration_exp_date": {
          "type": "string",
          "format": "date"
        },
        "work_authorization_from_date": {
          "type": "string",
          "format": "date"
        },
        "work_authorization_to_date": {
          "type": "string",
          "format": "date"
        },
        "alien_registration_name": {
          "$ref": "#/definitions/person_name"
        }
      },
      "required": ["is_citizen"],
      "if": {
        "properties": {
          "is_citizen": {
            "enum": [false]
          }
        }
      },
      "then": {
        "required": [
          "is_citizen",
          "alien_registration_number",
          "alien_registration_type"
        ]
      }
    },
    "union_membership": {
      "$id": "/definitions/union_membership",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "type": "object",
      "properties": {
        "is_union_member": {
          "type": "boolean"
        }
      },
      "required": ["is_union_member"],
      "if": {
        "properties": {
          "is_union_member": { "type": "boolean", "const": true }
        }
      },
      "then": {
        "properties": {
          "union_name": {
            "type": "string",
            "maxLength": 32
          },
          "union_local_number": {
            "type": "string",
            "maxLength": 16
          },
          "required_to_seek_work_through_hiring_hall": {
            "type": "boolean"
          }
        },
        "required": [
          "union_name",
          "union_local_number",
          "required_to_seek_work_through_hiring_hall"
        ]
      }
    },
    "state": {
      "$id": "/definitions/state",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/state",
      "type": "string",
      "enum": [
        "AK",
        "AL",
        "AR",
        "AS",
        "AZ",
        "CA",
        "CO",
        "CT",
        "DC",
        "DE",
        "FL",
        "FM",
        "GA",
        "GU",
        "HI",
        "IA",
        "ID",
        "IL",
        "IN",
        "KS",
        "KY",
        "LA",
        "MA",
        "MD",
        "ME",
        "MH",
        "MI",
        "MN",
        "MO",
        "MP",
        "MS",
        "MT",
        "NC",
        "ND",
        "NE",
        "NH",
        "NJ",
        "NM",
        "NV",
        "NY",
        "OH",
        "OK",
        "OR",
        "PA",
        "PR",
        "PW",
        "RI",
        "SC",
        "SD",
        "TN",
        "TX",
        "UT",
        "VA",
        "VI",
        "VT",
        "WA",
        "WI",
        "WV",
        "WY"
      ]
    },
    "self_employment": {
      "$id": "/definitions/self_employment",
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$anchor": "#/definitions/self_employment",
      "type": "object",
      "properties": {
        "is_self_employed": {
          "description": "whether or not the claimant is self-employed",
          "type": "string",
          "enum": ["yes", "no"]
        },
        "ownership_in_business": {
          "description": "whether or not the claimant has ownership in a business",
          "type": "string",
          "enum": ["yes", "no"]
        },
        "is_corporate_officer": {
          "description": "whether or not the claimant is is a corporate officer",
          "type": "string",
          "enum": ["yes", "no"]
        },
        "related_to_owner": {
          "description": "whether or not the claimant was related to the owner of an employer",
          "type": "string",
          "enum": ["yes", "no"]
        }
      },
      "required": [
        "is_self_employed",
        "ownership_in_business",
        "is_corporate_officer",
        "related_to_owner"
      ],
      "allOf": [
        {
          "if": {
            "properties": {
              "ownership_in_business": { "type": "string", "enum": ["yes"] }
            }
          },
          "then": {
            "properties": {
              "name_of_business": {
                "description": "the name of the claimant's business if they own one",
                "type": "string"
              }
            },
            "required": ["name_of_business"]
          }
        },
        {
          "if": {
            "properties": {
              "is_corporate_officer": { "type": "string", "enum": ["yes"] }
            }
          },
          "then": {
            "properties": {
              "name_of_corporation": {
                "description": "the name of the claimant's corporation if they participate in one",
                "type": "string"
              }
            },
            "required": ["name_of_corporation"]
          }
        },
        {
          "if": {
            "properties": {
              "related_to_owner": { "type": "string", "enum": ["yes"] }
            }
          },
          "then": {
            "properties": {
              "corporation_or_partnership": {
                "description": "If the claimant is related to their business owner, whether the business is a corporation or partnership",
                "type": "string"
              }
            },
            "required": ["corporation_or_partnership"]
          }
        }
      ]
    }
  },
  "required": ["claimant_name"],
  "properties": {
    "id": {
      "description": "Unique identifier for the Claim",
      "type": "string",
      "format": "uuid",
      "required_for_complete": true
    },
    "claimant_id": {
      "description": "Identifier for the Claimant. Unique to the Identity Provider used.",
      "type": "string",
      "required_for_complete": true
    },
    "identity_provider": {
      "description": "Name of the Identity Provider used to authenticate the Claimant",
      "type": "string",
      "required_for_complete": true
    },
    "swa_code": {
      "description": "2-letter code identifying the State Workforce Agency",
      "type": "string",
      "required_for_complete": true
    },
    "validated_at": {
      "description": "Datetime of the last time the Claim was validated against this schema",
      "type": "string",
      "format": "date-time"
    },
    "$schema": {
      "description": "URL of this schema",
      "type": "string"
    },
    "is_complete": {
      "description": "Meta field to indicate that the required_for_complete attribute should be applied",
      "type": "boolean"
    },
    "claimant_name": {
      "description": "Claimant's name",
      "$ref": "#/definitions/person_name"
    },
    "LOCAL_claimant_has_alternate_names": {
      "description": "Whether or not the claimant has used alternate names in the last (n) months",
      "type": "string",
      "enum": ["yes", "no"],
      "required_for_partial": true
    },
    "alternate_names": {
      "description": "Alternate names used by the claimant in the last (n) months",
      "type": "array",
      "items": { "$ref": "#/definitions/person_name" }
    },
    "birthdate": {
      "description": "Date of birth",
      "type": "string",
      "format": "date",
      "required_for_complete": true
    },
    "sex": {
      "description": "Required for SWA-level eligibility checks",
      "type": "string",
      "enum": ["male", "female"],
      "required_for_complete": true
    },
    "race": {
      "description": "",
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "american_indian_or_alaskan",
          "asian",
          "black",
          "hawaiian_or_pacific_islander",
          "white"
        ]
      },
      "required_for_complete": true
    },
    "ethnicity": {
      "description": "",
      "type": "string",
      "enum": ["opt_out", "hispanic", "not_hispanic"],
      "required_for_complete": true
    },
    "phones": {
      "description": "",
      "type": "array",
      "items": { "$ref": "#/definitions/phone" },
      "required_for_complete": true
    },
    "LOCAL_more_phones": {
      "description": "flow control only",
      "type": "boolean"
    },
    "preferred_language": {
      "description": "",
      "type": "string",
      "maxLength": 64
    },
    "ssn": {
      "description": "Required per 20 CFR 603.3",
      "type": "string",
      "pattern": "^[0-9]{3}-[0-9]{2}-[0-9]{4}$",
      "TODO_required_for_complete": true
    },
    "currently_reside_in_us": {
      "description": "Required per 20 CFR Appendix A to Part 625",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "employed_in_last_18_months": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "employers": {
      "description": "Required if employed_in_last_18_months is true",
      "type": "array",
      "items": { "$ref": "#/definitions/employer" }
    },
    "LOCAL_more_employers": {
      "type": "array",
      "items": { "type": "string", "enum": ["yes", "no"] },
      "required_for_partial": true
    },
    "active_military_in_last_18_months": {
      "description": "Required per 20 CFR 614",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "federal_employment_in_last_18_months": {
      "description": "Required per 20 CFR 609",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "worked_in_other_states": {
      "description": "Required per 20 CFR 616",
      "type": "array",
      "items": { "$ref": "#/definitions/state" },
      "TODO_required_for_complete": true
    },
    "currently_disabled_unable_to_work": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "residence_address": {
      "description": "",
      "required_for_complete": true,
      "$ref": "#/definitions/address"
    },
    "LOCAL_mailing_address_same": {
      "description": "Mailing is the same as the residence address",
      "type": "boolean",
      "required_for_partial": true
    },
    "mailing_address": {
      "description": "",
      "required_for_complete": true,
      "$ref": "#/definitions/address"
    },
    "us_citizenship": {
      "description": "",
      "$ref": "#/definitions/citizenship",
      "TODO_required_for_complete": true
    },
    "union": {
      "$ref": "#/definitions/union_membership",
      "TODO_required_for_complete": true
    },
    "email": {
      "description": "",
      "type": "string",
      "format": "email",
      "maxLength": 128,
      "comment": "Note that JSON Schema validation of email format is notoriously loose but identity providers confirm the email address itself so we trust only what we get from them",
      "TODO_required_for_complete": true
    },
    "education_level": {
      "description": "",
      "type": "string",
      "enum": [
        "none",
        "nursery",
        "grades_1_to_11",
        "grade_12",
        "high_school_grad",
        "ged",
        "some_college",
        "one_year_college_plus",
        "associates",
        "bachelors",
        "masters",
        "professional",
        "doctorate"
      ],
      "required_for_complete": true
    },
    "occupation": {
      "description": "https://www.bls.gov/oes/current/oes_stru.htm",
      "$ref": "#/definitions/occupation",
      "TODO_required_for_complete": true
    },
    "ready_willing_able_to_work": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "federal_income_tax_withheld": {
      "description": "Required per UIPL 17-95",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "refused_any_job_since_last_worked": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "primary_wage_earner": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "interpreter_required": {
      "description": "",
      "type": "boolean",
      "required_for_complete": true
    },
    "dependency_allowance": {
      "description": "",
      "type": "boolean",
      "TODO_required_for_complete": true
    },
    "student_fulltime_in_last_18_months": {
      "description": "If the claimant has been a full-time student during the last 18 months",
      "type": "boolean",
      "required_for_complete": true
    },
    "attending_college_or_job_training": {
      "description": "If the claimant is currently attending college or job training",
      "type": "boolean",
      "required_for_complete": true
    },
    "registered_with_vocational_rehab": {
      "description": "If the claimant is registered with vocational rehabilitation",
      "type": "boolean",
      "required_for_complete": true
    },
    "self_employment": {
      "$ref": "#/definitions/self_employment",
      "required_for_complete": true
    }
  }
}
