{% extends "base.html" %} {% load i18n %} {% block content %}
<main role="main">
  <div class="grid-container">
    <h1>{% translate "Test Login" %}</h1>
    <div class="grid-row">
      <form class="usa-form usa-form--large" action="/login/" method="POST">
        <input
          type="hidden"
          name="csrfmiddlewaretoken"
          value="{{ csrf_token }}"
        />
        <fieldset class="usa-fieldset">
          <legend class="usa-legend usa-legend--large"></legend>
          <div class="clearfix"></div>

          <p>
            Required fields are marked with an asterisk (<abbr
              title="required"
              class="usa-hint usa-hint--required"
              >*</abbr
            >).
          </p>

          <!-- prettier-ignore -->
          {% include "uswds/_swa_options.html" with swas=swas swa=swa onchange=False %}
          <!-- prettier-ignore -->
          {% include "uswds/_text_field.html" with id="first_name" label="First Name" type="text" required=False %}
          <!-- prettier-ignore -->
          {% include "uswds/_text_field.html" with id="last_name" label="Last Name" type="text" required=False %}

          <script type="text/javascript">
            function toggleRequiredFields(ial) {
              const ssn = document.getElementById("ssn");
              const ssnLabel = ssn.labels[0];
              const birthdate = document.getElementById("birthdate");
              const birthdateLabel = birthdate.labels[0];
              if (ial === "1") {
                ssn.required = false;
                birthdate.required = false;
                ssnLabel.classList.remove("required");
                birthdateLabel.classList.remove("required");
                ssnLabel
                  .getElementsByTagName("abbr")[0]
                  .classList.add("display-none");
                birthdateLabel
                  .getElementsByTagName("abbr")[0]
                  .classList.add("display-none");
              } else if (ial === "2") {
                ssn.required = true;
                birthdate.required = true;
                ssnLabel.classList.add("required");
                birthdateLabel.classList.add("required");
                ssnLabel
                  .getElementsByTagName("abbr")[0]
                  .classList.remove("display-none");
                birthdateLabel
                  .getElementsByTagName("abbr")[0]
                  .classList.remove("display-none");
              }
            }
          </script>
          <label class="usa-label" for="IAL"
            >Identity Assurance Level (IAL)</label
          >
          <select
            name="IAL"
            class="usa-select"
            onchange="toggleRequiredFields(this.value)"
          >
            <option selected value="2">2</option>
            <option value="1">1</option>
          </select>

          <!-- prettier-ignore -->
          {% include "uswds/_text_field.html" with id="email" label="Email" required=True type="email" %}
          <!-- prettier-ignore -->
          {% include "uswds/_text_field.html" with id="birthdate" label="Birthdate (YYYY-MM-DD)" type="text" required=True %}
          <!-- prettier-ignore -->
          {% include "uswds/_text_field.html" with id="ssn" label="SSN" type="text" required=True %}
          <!-- prettier-ignore -->
          {% include "uswds/_text_field.html" with id="phone" label="Phone" type="text" required=False %}

          <div>
            <button class="usa-button" type="submit" data-testid="loginbutton">
              Login
            </button>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</main>
{% endblock %}
