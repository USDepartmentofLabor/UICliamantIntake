{% extends "base.html" %} {% block content %} {% load i18n %}
<main role="main" class="">
  <section class="grid-container margin-top-1">
    <script type="text/javascript">
      function addSwaCode(code) {
        const idpLinks = document.querySelectorAll(".idp-link");
        idpLinks.forEach((el) => {
          let href = el.getAttribute("href").replace(/\?.*/, "");
          el.setAttribute("href", href + "?swa=" + code);
        });
        // show the IdP links
        const idpPicker = document.getElementById("idp-picker");
        idpPicker.classList.remove("display-none");
      }
    </script>
    <div class="grid-row grid-gap">
      <div class="tablet:grid-col-4">
        <h2 class="font-heading-xl margin-top-0 tablet:margin-bottom-0">
          {% translate "Select a State" %}
        </h2>
      </div>
      <div class="tablet:grid-col-8 usa-prose">
        <form>
          <select class="usa-select" onchange="addSwaCode(this.value)">
            <option disabled selected value>--</option>
            {% for swa in swas %}
            <option value="{{swa.code}}">{% translate swa.name %}</option>
            {% endfor %}
          </select>
        </form>
      </div>
    </div>
  </section>
  <section id="idp-picker" class="display-none grid-container margin-top-1">
    <div class="grid-row grid-gap">
      <div class="tablet:grid-col-4">
        <h2 class="font-heading-xl margin-top-0 tablet:margin-bottom-0">
          {% translate "Log In or Sign Up" %}
        </h2>
      </div>
      <div class="tablet:grid-col-8 usa-prose">
        <p>
          <a class="idp-link" href="{{ base_url }}/logindotgov/">
            <img src="https://www.ssa.gov/fleximg/Log_in_logo1.png" alt="{%
            translate "Sign in with Login.gov, external website" %}"
            class="cspLogo-imgBorder" />
          </a>
        </p>
        {% if show_login_page %}
        <p>
          <a class="usa-button idp-link" href="{{ base_url }}/login/"
            >{% translate "Test Login" %}</a
          >
        </p>
        {% endif %}
      </div>
    </div>
  </section>
</main>
{% endblock %}
